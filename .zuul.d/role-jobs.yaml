# ara-web jobs
- job:
    name: ansible-role-ara-web-base
    parent: base
    files:
      # ara
      - ara/*
      - playbooks/*
      - roles/*
      - tests/*
      - .zuul.d/*
      - setup.py
      - setup.cfg
      - requirements.txt
      - test-requirements.txt
      # ara-web
      - src/.*
      - public/.*
      - package.json
      - package-lock.json
    required-projects:
      - recordsansible/ara-web
    run: playbooks/ara_web.yaml
    post-run: tests/role-ara-web-post.yaml
    vars:
      ara_web_source: "{{ ansible_user_dir }}/src/opendev.org/recordsansible/ara-web"
      ara_web_api_server: "https://api.demo.recordsansible.org"

- job:
    name: ansible-role-ara-web-ubuntu
    parent: ansible-role-ara-web-base
    nodeset: ubuntu-bionic

- job:
    name: ansible-role-ara-web-fedora
    parent: ansible-role-ara-web-base
    nodeset: ara-fedora-30
